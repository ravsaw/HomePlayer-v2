{"ast":null,"code":"import { HttpRequest, HttpEventType } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class MovieUploadComponent {\n  constructor(http) {\n    this.http = http;\n    this.progress = 0;\n    this.message = \"\";\n  }\n\n  upload(files) {\n    if (files.length === 0) return;\n    const formData = new FormData();\n\n    for (let file of files) formData.append(file.name, file);\n\n    const uploadReq = new HttpRequest('POST', `movie`, formData, {\n      reportProgress: true\n    });\n    this.http.request(uploadReq).subscribe(event => {\n      if (event.type === HttpEventType.UploadProgress && event.total) this.progress = Math.round(100 * event.loaded / event.total);else if (event.type === HttpEventType.Response && event.body) this.message = `${event.body}`;\n    });\n  }\n\n}\n\nMovieUploadComponent.ɵfac = function MovieUploadComponent_Factory(t) {\n  return new (t || MovieUploadComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nMovieUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MovieUploadComponent,\n  selectors: [[\"app-movie-upload\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[1, \"chunkupload\"], [3, \"asyncSettings\"], [\"defaultupload\", \"\"]],\n  template: function MovieUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"movie-upload works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \" `\");\n      i0.ɵɵelementStart(3, \"div\", 0);\n      i0.ɵɵelement(4, \"ejs-uploader\", 1, 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \" `\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"asyncSettings\", ctx.path);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb3ZpZS11cGxvYWQuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/rsawc/source/repos/HomePlayer/HomePlayer/ClientApp/src/app/movie-upload/movie-upload.component.ts"],"names":["HttpRequest","HttpEventType","i0","i1","MovieUploadComponent","constructor","http","progress","message","upload","files","length","formData","FormData","file","append","name","uploadReq","reportProgress","request","subscribe","event","type","UploadProgress","total","Math","round","loaded","Response","body","ɵfac","MovieUploadComponent_Factory","t","ɵɵdirectiveInject","HttpClient","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","MovieUploadComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","path","styles"],"mappings":"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","sourcesContent":["import { HttpRequest, HttpEventType } from '@angular/common/http';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nexport class MovieUploadComponent {\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.progress = 0;\r\n        this.message = \"\";\r\n    }\r\n    upload(files) {\r\n        if (files.length === 0)\r\n            return;\r\n        const formData = new FormData();\r\n        for (let file of files)\r\n            formData.append(file.name, file);\r\n        const uploadReq = new HttpRequest('POST', `movie`, formData, {\r\n            reportProgress: true,\r\n        });\r\n        this.http.request(uploadReq).subscribe(event => {\r\n            if (event.type === HttpEventType.UploadProgress && event.total)\r\n                this.progress = Math.round(100 * event.loaded / event.total);\r\n            else if (event.type === HttpEventType.Response && event.body)\r\n                this.message = `${event.body}`;\r\n        });\r\n    }\r\n}\r\nMovieUploadComponent.ɵfac = function MovieUploadComponent_Factory(t) { return new (t || MovieUploadComponent)(i0.ɵɵdirectiveInject(i1.HttpClient)); };\r\nMovieUploadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MovieUploadComponent, selectors: [[\"app-movie-upload\"]], decls: 7, vars: 1, consts: [[1, \"chunkupload\"], [3, \"asyncSettings\"], [\"defaultupload\", \"\"]], template: function MovieUploadComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"movie-upload works!\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(2, \" `\");\r\n        i0.ɵɵelementStart(3, \"div\", 0);\r\n        i0.ɵɵelement(4, \"ejs-uploader\", 1, 2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(6, \" `\\n\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"asyncSettings\", ctx.path);\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb3ZpZS11cGxvYWQuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}